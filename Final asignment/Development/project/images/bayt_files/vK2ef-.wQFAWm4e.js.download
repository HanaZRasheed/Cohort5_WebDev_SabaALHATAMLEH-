(this.$WP=this.$WP||[]).push(["vK2ef-",(t,i)=>{"use strict";var e,o,n,a,s,l,c,r,u,d,p,k,h,m,v,g,C,_,w,f,b,B,O,S,x=t=>t.visible&&e(m,{position:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0"},overlayType:"background"},e(v,null),e("div",{className:"_33n46_PG",onClick:t.onClick})),F=t=>e("div",{onClick:t.onClick,className:C("_1AHGJOlc",{_9Xq8CxR7:t.active})},e(g,{className:"_3RVY2wJG",name:t.name})),P=t=>e("a",{href:t.url,onClick:t.onClick},e("div",{className:"_1L_THyCj"},e("span",{className:"_3B3khgkj"},t.title),e(F,{name:t.icon}))),R=(t,i,e)=>o=>{o.preventDefault(),i().then(()=>{p("floating-action-menu").emit("close"),e&&e(),t&&(window.location.href=t)})},H=t=>t.requiresLogin?e(_,{pid:t.pid},i=>e(P,{icon:t.icon,title:t.title,url:t.url,onClick:R(t.url,i,t.onClick)})):e(P,{icon:t.icon,title:t.title,url:t.url,onClick:R(t.url,()=>Promise.resolve(!0),t.onClick)}),I=t=>!s("restaurant_fab")||t.isOwner||"MOBILE"!==t.viewport?null:e(r,null,e(O,{bottom:79,onButtonClick:(i,e)=>{((t,i,e)=>{c(t,{module:"Restaurant_Review",action:i?"openFAB_click":"closeXFAB_click",context:e})})(i,e,t.trackingContext)},onBackgroundClick:i=>{((t,i)=>{c(t,{module:"Restaurant_Review",action:"closeFAB_click",context:i})})(i,t.trackingContext)}},e(u,{name:b},t=>e(w,{action:"addPhotoFAB_click"},e(H,{icon:"camera",title:l("restaurants_ugc_postPhoto"),onClick:t,pid:40513,requiresLogin:!0}))),e(w,{action:"warFAB_click"},e(H,{icon:"pencil-paper",title:l("restaurants_ugc_war_2"),url:t.warUrl})),e(f,{object:{locationId:t.detailId,__typename:"LocationInformation"}},t=>e(w,{action:"addTripFAB_click"},e(H,{icon:"bookmark",title:l("restaurants_ugc_saveTrip"),onClick:t,pid:40513,requiresLogin:!0})))));return[()=>{F.defaultProps={onClick:void 0,active:!1},(B=class extends o{constructor(...t){super(...t),this.state={show:!1,active:!1,trueBottom:this.props.bottom||16},this.getPosition=()=>Object.assign({},{position:"fixed",bottom:this.state.trueBottom+"px"},this.props.isRtl?{left:"0"}:{right:"0"}),this.reposition=()=>{if(document&&document.documentElement&&window){var t=document.documentElement.clientWidth/window.innerWidth,i=document.documentElement.clientHeight-t*window.innerHeight,e=i>0?i:0,o=this.props.bottom+e;o!==this.state.trueBottom&&this.setState({trueBottom:o})}},this.fabButtonClick=t=>{var i=!this.state.active;this.props.onButtonClick&&this.props.onButtonClick(t,i),this.setState({active:i})},this.backgroundClick=t=>{this.closeFloatingMenu(),this.props.onBackgroundClick&&this.props.onBackgroundClick(t)},this.closeFloatingMenu=()=>{this.setState({active:!1})},this.radio=new p("floating-action-menu")}componentDidMount(){this.radio.on("close",this.closeFloatingMenu),this.setState({show:!0})}componentWillUnmount(){this.radio.off("close",this.closeFloatingMenu)}render(){return this.state.show&&e(n,null,this.props.isIos&&e(h,{callback:this.reposition}),e(m,{position:this.getPosition()},e("div",null,e(k,{in:this.state.active,timeout:300,classNames:{enterActive:"_18cp2ZNo",enterDone:"_3d2eniCd",exit:"G2ymRsSg",exitActive:"_2CNHV0ym",exitDone:"gu3ebi5i"}},e("span",{className:"b-ajIbzO"},this.props.children)),e("div",{className:"_1EgU9rXT"},e(F,{name:"plus",active:this.state.active,onClick:this.fabButtonClick})))),e(x,{visible:this.state.active,onClick:this.backgroundClick}))}}).defaultProps={onButtonClick:void 0,onBackgroundClick:void 0,bottom:16},O=d((t,i)=>Object.assign({},i,{isRtl:t.i18n.isRtl,isIos:"IOS"===t.meta.device.os.family}))(B),H.defaultProps={onClick:void 0,url:void 0,title:"",requiresLogin:!1,pid:-1},S=a((t,i)=>{var{detailId:e}=t.page,o=e,n=i(`/data/1.0/restaurant/${e}/overview`);return()=>{var i=n.get().data;return{warUrl:i&&i.links&&i.links.warUrl||"",detailId:e,isOwner:i&&i.isOwner||!1,trackingContext:o,viewport:t.meta.device.viewportCategory}}})(I),t("default",S)},[t=>(e=t.createElement,o=t.Component,n=t.Fragment),t=>a=t.bind,t=>s=t.featureIsEnabled,t=>l=t.localize,t=>c=t.trackClick,t=>r=t.HideOnReadonly,t=>u=t.Opener,t=>d=t.connect,t=>p=t.default,t=>k=t.CSSTransition,t=>h=t.default,t=>m=t.Overlay,t=>v=t.BlockScroll,t=>g=t.Icon,t=>C=t.default,t=>_=t.SocialLoginGate,t=>w=t.RDetailClickTracker,t=>f=t.QueriedTripFlowSelector,t=>b=t.PHOTO_UPLOADER]]},["cDcdfi","RiHMo-","-i3PJS","535agn","Jk5sjx","9wfvtu","pT-O8u","h74DsO","l6BSGt","CSOnVf","w4JHTr","z2XL6d","xegF5W","_qQcW3","jSLlaY","JFHNGL","ew-Uau","HZtvHO","SoF4Aa"]]);
