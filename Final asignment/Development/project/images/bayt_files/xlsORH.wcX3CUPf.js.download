(this.$WP=this.$WP||[]).push(["xlsORH",(e,n)=>{"use strict";var t,i,a,o,r,s,l,d,u,c,m,v,f,p,g,w,k,y,S,_,h,F,N=function(){return window[window._fs_namespace]},O=function(){if(!N())throw Error("FullStory is not loaded, please ensure the init function is invoked before calling FullStory API functions")},b=function(){O();for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.every((function(e){return N()[e]}))},E=function(e){return function(){var n;return b(e)?(n=N())[e].apply(n,arguments):("FS.".concat(e," not ready"),null)}},C=function(e){N()||(e.recordCrossDomainIFrames&&(window._fs_run_in_iframe=!0),e.recordOnlyThisIFrame&&(window._fs_is_outer_script=!0),function(e){var n,t,i,a,o,r,s,l,d=e.orgId,u=e.namespace,c=void 0===u?"FS":u,m=e.debug,v=void 0!==m&&m,f=e.host,p=void 0===f?"fullstory.com":f,g=e.script,w=void 0===g?"edge.fullstory.com/s/fs.js":g;if(!d)throw new Error("FullStory orgId is a required parameter");window._fs_debug=v,window._fs_host=p,window._fs_script=w,window._fs_org=d,window._fs_namespace=c,n=window,t=document,i=window._fs_namespace,a="script",o="user",i in n?n.console&&n.console.log&&n.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].'):((s=n[i]=function(e,n,t){s.q?s.q.push([e,n,t]):s._api(e,n,t)}).q=[],(r=t.createElement(a)).async=1,r.crossOrigin="anonymous",r.src="https://"+_fs_script,(l=t.getElementsByTagName(a)[0]).parentNode.insertBefore(r,l),s.identify=function(e,n,t){s(o,{uid:e},t),n&&s(o,n,t)},s.setUserVars=function(e,n){s(o,e,n)},s.event=function(e,n,t){s("event",{n:e,p:n},t)},s.anonymize=function(){s.identify(!1)},s.shutdown=function(){s("rec",!1)},s.restart=function(){s("rec",!0)},s.log=function(e,n){s("log",[e,n])},s.consent=function(e){s("consent",!arguments.length||e)},s.identifyAccount=function(e,n){r="account",(n=n||{}).acctId=e,s(r,n)},s.clearUserCookie=function(){},s._w={},l="XMLHttpRequest",s._w[l]=n[l],l="fetch",s._w[l]=n[l],n[l]&&(n[l]=function(){return s._w[l].apply(this,arguments)}),s._v="1.2.0")}(e))},I=(e,n)=>{e?p(e,n):p(!1)},R=(e,n,t)=>s("t4b_management_center_full_story")&&"IOS"!==n&&F.has(e)&&(_.has(e)||S||t),M=({page:e})=>{var[n,o]=t(!1),{domainName:s}=i(d),v=s.startsWith("hare.tripadvisor")?"NP4A5":"MXZMP",{family:f}=i(u).os,{userId:p}=i(c),_=(e=>{var n,o,[r,s]=t({isEnabled:!1}),d=i(l),u=(null==d||null==(n=d[0])||null==(o=n.params)?void 0:o.detailId)||0,c=m(u,e);return a(()=>{switch(e){case"OwnerResponse":case"ReputationManagement":s(c);break;default:s({isEnabled:!1})}},[c,e]),r})(e);a(()=>{var{isEnabled:t}=_;return R(e,f,t)?(n||((e=>{k({orgId:e})})(v),o(!0)),n&&w(),()=>{n&&g()}):(n&&g(),()=>{n&&g()})},[e,f,v,_,n]);var[{fetching:h,data:F,error:N}]=r({query:y,variables:{limit:100},pause:!p});return a(()=>{var{isEnabled:t,attributes:i}=_;if(n&&R(e,f,t))if(p&&!N){if(!h){var a=((e,n)=>{var t=0,i=!1,a=!1,o="",r=0,s=0,l=new Set;((null==e?void 0:e.allOwnerStatuses)||[]).forEach(e=>{var n=null==e?void 0:e.location;if(n)if(t++,"ACCOMMODATION"===n.placeType){var d,u,c;i=!0;var m=null==(d=n.detail)||null==(u=d.hotel)||null==(c=u.details)?void 0:c.numRooms,v=n.accommodationType;null!=m&&m>=0&&(r++,s+=m),v&&(l.add(v),o=v)}else"EATERY"===n.placeType&&(a=!0)});var d=r>0?Number((s/r).toFixed(2)):0,u={};return n&&n.forEach(e=>{u[e.name]=e.value}),Object.assign({isHotelOwner:i,isRestaurantOwner:a,accommodationType:l.size>1?"multiple":o,averageRoomCount:d,verifiedOwnedPropertyCount:t,isUserInSampleGroup:S},u)})(F,i);I(p,a)}}else I(p)},[e,f,h,F,N,p,_,n]),null},P=({children:e})=>o("div",{"data-fs-block":"true"},e),T=(...e)=>{try{f(...e)}catch(e){console.error("Error trying to log message in FSLog",e)}},A=(e,n)=>{try{v(e,n||{})}catch(e){console.error("Error trying to record custom event in FSCustomEvent",e)}};return[()=>{var n;v=E("event"),f=E("log"),p=E("identify"),g=E("shutdown"),w=E("restart"),n=C,k=function(){window._fs_initialized||(n.apply(void 0,arguments),window._fs_initialized=!0)},(y=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"OwnerProperties"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"limit"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"allOwnerStatuses"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"verifiedOnly"},"value":{"kind":"BooleanValue","value":true}},{"kind":"Argument","name":{"kind":"Name","value":"limit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"limit"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"location"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"placeType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"accommodationType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"detail"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Hotel"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"hotel"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"details"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"numRooms"},"arguments":[],"directives":[]}]}}]}}]}}]}}]}}]}}]}}],"loc":{"start":0,"end":331}}')).__key=24404188814980,y.loc.source={body:"16320b015e84"},S=s("t4b_management_center_full_story_sampled"),_=new Set(["AdsManager","CampaignConfiguration","CampaignManagement","ConnectivityPartnerInfo","Covid19Response","HotelsProductCart","TripConnectPaymentForm","Starter_Packages","ReputationManagement","BICompetitorSet"]),h=new Set(["AnalyticsSuite","BrandOwners","CertificateOfExcellenceRequestSupport","FavoriteReviewManagement","GuestExperience","HotelsManageListing","HotelsManagementCenter","SafetyManagementCenter","InstantBookingManagement","InstantBookingSignup","ManagePhotos","MediaBadgeResponse","MultiOwners","OwnerResponse","OwnerSupport","Owners","ProductError","RestaurantProductCart","ReviewExpress","SpecialOfferManagement","StickerRequest","Widgets"]),F=new Set([..._,...h]),e({FSLog:T,FullStorySessionRecorder:M,SensitiveInformationBlocker:P,logFullstoryCustomEvent:A})},[e=>(t=e.useState,i=e.useContext,a=e.useEffect,o=e.createElement),e=>r=e.useQuery,e=>s=e.featureIsEnabled,e=>(l=e.Route,d=e.Environment,u=e.Device,c=e.Visitor),e=>m=e.useHrmFullStoryAttributes]]},["cDcdfi","5X2em-","-i3PJS","2R4xv2","iZ1Bsx"]]);
