(this.$WP=this.$WP||[]).push(["SoF4Aa",(e,a)=>{"use strict";var i,n,l,d,t,o,r,u,s,m,c=e=>{var a=e.locationScoped&&e.restaurantId>0?e.restaurantId:void 0;return i(n,null,i(u,{modalName:"link-uploader-modal",displaySuccessModal:!1}),i(l,null,l=>i(r,null,d=>i(o,{modalName:"photo-uploader-modal",linkUploaderModalName:"link-uploader-modal",mediaType:"photo",locationId:a,pid:e.pid,onSubmit:()=>{((e,a,l)=>{a.query({query:s,variables:{userId:l}}).then(a=>{var l={node:i(n,null,t("restaurants_toast_photosUploaded")),cta:i("div",{onClick:()=>{var e,i,n,l=(null==a||null==(e=a.data)||null==(i=e.memberProfile)||null==(n=i.route)?void 0:n.url)||"/Profile";window.location.href=l+"?tab=photos"}},t("restaurants_toast_viewPhotos"))};e(l)})})(d,l,e.memberId)}}))))};return[()=>{(s=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ProfileLinkQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"userId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"memberProfile"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"userId"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"userId"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"site"},"value":{"kind":"EnumValue","value":"TRIPADVISOR"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"route"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":146}}')).__key=0x6f8ec20efb94,s.loc.source={body:"6f8ec20efb94"},m=d((e,a)=>Object.assign({},a,{restaurantId:e.page.detailId,memberId:e.auth.loggedInUserId}))(c),e("default",m),e({LINK_UPLOADER:"link-uploader-modal",PHOTO_UPLOADER:"photo-uploader-modal"})},[e=>(i=e.createElement,n=e.Fragment),e=>l=e.ApolloConsumer,e=>d=e.connect,e=>t=e.localize,e=>o=e.MediaUploaderModal,e=>r=e.Toaster,e=>u=e.LinkPostUploader]]},["cDcdfi","MGkW-Q","h74DsO","535agn","Qsot8_","t1LGYH","VXzhcp"]]);
