(this.$WP=this.$WP||[]).push(["5-GvUO/bvYoFF",(e,t)=>{"use strict";var s,i,a,r,n,o,l,d,g,u,c,p,m,h,v,b,f,S,I,y,k,E,P,O,j,T,C,x=()=>{var[e,t]=i(!1),s=a(e=>{t(e),b.set("ads.testMode",e)},[]);return r(()=>{var e=!0===b.get("ads.testMode");t(e),b.onValueChange("ads.testMode",t)},[]),[e,s]};function D(e,t){if(null==e)return{};var s,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)s=r[i],t.indexOf(s)>=0||(a[s]=e[s]);return a}var M="//securepubads.g.doubleclick.net/tag/js/gpt.js",N=({onDisableTestMode:e})=>s.createElement("div",{className:"_1bKXhj3X"},"Ad test mode enabled",s.createElement("button",{onClick:e,className:"_3r6eBcgt"},"[Disable]")),A=({children:e})=>e,L=({children:e})=>{var{browser:t,userAgentCategory:a}=l(g),{debugTool:n}=l(u),[o,c]=i(null),[p,m]=x();return r(()=>{var e={userAgentCategory:a,fetchMargin:"MOBILE"===a?"400px":"200px",browserFamily:t.family};p?c(new P(e)):d("lithium_rubicon_header_bidding")?c(new E(e)):c(new k(e))},[t,a,p]),s.createElement(j.Provider,{value:o},n&&s.createElement(O,{testMode:p,onTestModeChange:m}),p&&s.createElement(N,{onDisableTestMode:()=>m(!1)}),s.createElement(T,null,e))},w=e=>e.toISOString().substring(0,10),_=()=>{var e,[{page:t,params:s},{uid:a}]=l(c),{userAgentCategory:n}=l(g),{sessionId:o}=l(p),{drsInfo:d}=l(u),{hotels:h}=l(m),[v,b]=i(null),f=s.geoId?s.geoId:0,S=s.detailId?s.detailId:0,y={hotelTravelInfo:h&&{checkInDate:w(h.checkInDate),checkOutDate:w(h.checkOutDate),defaultDates:h.defaultDates}||null,locationId:S||f,pageType:t,drs:d?(e=d,e.split("*").map(e=>{var[t,s]=e.split(".");return{space:t,sliceNum:Number.parseInt(s,10)}})):[],globalContextUrlParameters:Object.entries(s).map(([e,t])=>({key:e,value:String(t)})),userAgentCategory:n},[{fetching:k,data:E}]=I({query:C,variables:{pageAdsRequestInput:y}});return r(()=>{var e,t=null==E||null==(e=E.gptInfo)?void 0:e[0];if(!k&&t){var{pageLevelTargeting:s,adBase:i,ppid:r}=t;if(s&&i){var n=Object.fromEntries(s.map(e=>{var{key:t,value:s}=e||{};return t&&s?[t,[...s]]:null}).filter(Boolean));return b(Object.assign({},n,{pv_id:[a],sess:[o||null],adBase:i,ppid:r})),()=>{b(null)}}}},[E,k,a,o]),v};return e("_",D),[()=>{y=class{constructor({fetchMargin:e="0px",scriptSources:t}){this.loadPromise=null,this.fetchMargin=void 0,this.scriptSources=void 0,this.scriptSources=t,this.fetchMargin=e}getConsent(){return new Promise((e,t)=>f(S.ADVERTISING,()=>e(),()=>t(new Error("Advertising consent declined"))))}loadScripts(){if(this.loadPromise)return this.loadPromise;var e=this.scriptSources.map(e=>h(e,"WP"));return this.loadPromise=this.getConsent().then(()=>Promise.all(e)).catch(e=>(this.loadPromise=null,this.scriptSources.join(", "),Promise.reject(e))),this.loadPromise}load(e,t){return t||"undefined"==typeof IntersectionObserver?this.loadScripts():new Promise(t=>{var s=new IntersectionObserver(e=>{e.reduce((e,t)=>e||t.isIntersecting,!1)&&(s.disconnect(),this.loadScripts().then(t))},{rootMargin:this.fetchMargin,threshold:0});s.observe(e)})}},globalThis.googletag=globalThis.googletag||{cmd:[]},k=class{constructor({fetchMargin:e,browserFamily:t}){this.slotSubscriptions={},this.subscriptions=[],this.ppid=null,this.scriptLoader=void 0,this.scriptLoader=new y({fetchMargin:e,scriptSources:[M]}),googletag.cmd.push(()=>{googletag.pubads().setSafeFrameConfig({allowOverlayExpansion:!0,allowPushExpansion:!0,sandbox:"EDGE"!==t}),googletag.pubads().disableInitialLoad(),googletag.enableServices()}),this.createEventProxy("slotRenderEnded",e=>({isRendered:!0,isLoaded:!1,isEmpty:55978451===(null==e?void 0:e.advertiserId)||(null==e?void 0:e.isEmpty)})),this.createEventProxy("slotOnload",()=>({isLoaded:!0})),this.createEventProxy("slotVisibilityChanged",e=>({isVisible:!!(null==e?void 0:e.inViewPercentage)}))}createEventProxy(e,t){googletag.cmd.push(()=>{googletag.pubads().addEventListener(e,e=>{var s,i=null==e||null==(s=e.slot)?void 0:s.getSlotElementId(),a=t(e);i&&a&&this.slotSubscriptions[i]&&(this.slotSubscriptions[i](a),this.subscriptions.forEach(e=>e()))})})}getSlots(){return googletag.pubadsReady?(googletag.pubads().getSlots()||[]).map(e=>{var{advertiserId:t,creativeId:s,lineItemId:i,campaignId:a}=e.getResponseInformation()||{};return{id:e.getSlotElementId(),targeting:Object.fromEntries(e.getTargetingKeys().map(t=>[t,e.getTargeting(t)])),responseInformation:{isCollapser:t&&55978451===t,advertiserId:t,creativeId:s,lineItemId:i,campaignId:a}}}):[]}getSlot(e){return googletag.pubads().getSlots().find(t=>t.getSlotElementId()===e)}addEventListener(e){return this.subscriptions.push(e),()=>{var t=this.subscriptions.indexOf(e);t>-1&&this.subscriptions.splice(t,1)}}createSlot({id:e,elem:t,size:s,targeting:i,aboveTheFold:a}){return googletag.cmd.push(()=>{if(!this.getSlot(e)){var{adBase:t,ppid:a}=i,r=D(i,["adBase","ppid"]);null!==a&&(googletag.pubads().setPublisherProvidedId(a),this.ppid=a);var n=function(e){return[...e.split("|").map(e=>e.split("x").map(Number)),"fluid"]}(s),o=googletag.defineSlot(t,n,e);o&&(o.setForceSafeFrame(!0),o.addService(googletag.pubads()),o.updateTargetingFromMap(r),o.setCollapseEmptyDiv(!0),googletag.display(e))}}),this.scriptLoader.load(t,a).then(()=>{this.refreshSlot(e)}).catch(()=>{this.slotSubscriptions[e]({isEmpty:!0,isLoaded:!0,isRendered:!0})}),{addEventListener:t=>(this.slotSubscriptions[e],this.slotSubscriptions[e]=t,()=>{delete this.slotSubscriptions[e]})}}refreshSlot(e){googletag.cmd.push(()=>{var t=this.getSlot(e);t&&googletag.pubads().refresh([t])})}destroySlot(e){googletag.cmd.push(()=>{var t=this.getSlot(e);t&&(googletag.destroySlots([t]),this.subscriptions.forEach(e=>e()))})}},globalThis.pbjs=globalThis.pbjs||{que:[]},globalThis.googletag=globalThis.googletag||{cmd:[]},E=class extends k{constructor(e){super(e),this.scriptLoader=new y({fetchMargin:e.fetchMargin,scriptSources:[M,"MOBILE"===e.userAgentCategory?"//ads.rubiconproject.com/prebid/13406_Mweb_Display.js":"//ads.rubiconproject.com/prebid/13406_Desktop_Display.js"]})}getSlots(){return super.getSlots().map(e=>{var{responseInformation:{advertiserId:t}}=e;return Object.assign({},e,{responseInformation:Object.assign({},e.responseInformation,{isRubiconSourced:t&&4795944709===t})})})}refreshSlot(e){googletag.cmd.push(()=>{var t=this.getSlot(e);if(t){var[s=""]=t.getTargeting("loctype"),[i=""]=t.getTargeting("platform");pbjs.que.push(()=>{pbjs.rp.requestBids({timeout:2e3,gptSlotObjects:[t],data:{inventory:{loctype:s,platform:i}}})})}})}},P=class e extends k{constructor(e){super(e)}static getAdBase(e){return e.replace(/\.s\//,".test.s/")}createSlot(t){var{id:s,targeting:i}=t,a=D(t,["id","targeting"]);return Object.assign({targeting:i},a),super.createSlot(Object.assign({id:s,targeting:Object.assign({},i,{adBase:e.getAdBase(i.adBase)})},a))}destroySlot(e){super.destroySlot(e)}refreshSlot(e){super.refreshSlot(e)}},O=v.onUsage(()=>t("5-GvUO/gmVWZD"),"default"),j=n(null),T=o(A),(C=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PageTargetingQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"pageAdsRequestInput"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"AdContext_PageAdsRequestInput"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"gptInfo"},"name":{"kind":"Name","value":"AdContext_getPageAdsBatch"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requests"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"pageAdsRequestInput"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"adBase"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ppid"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"pageLevelTargeting"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"key"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":240}}')).__key=0xab2a059eff8f,C.loc.source={body:"ab2a059eff8f"},e({A:j,G:k,R:E,T:P,_:D,a:N,b:L,c:x,d:"ads.testMode",u:_})},[e=>(s=e.default,i=e.useState,a=e.useCallback,r=e.useEffect,n=e.createContext,o=e.memo,l=e.useContext),e=>d=e.featureIsEnabled,e=>(g=e.Device,u=e.Debug,c=e.Route,p=e.Visitor,m=e.TravelInfo),e=>(h=e.importScript,v=e.component),e=>b=e.default,e=>(f=e.requestConsent,S=e.CategoriesEnum),e=>I=e.useQuery]]},["cDcdfi","-i3PJS","2R4xv2","pLbCP4","jaCyxS","lMO0v3","5X2em-"]]);
