(this.$WP=this.$WP||[]).push(["MG7IEl",(e,t)=>{"use strict";var n,r,a,o,i,l,s,d,u,m,c,p,h,f,g,E,C,P,y,v,b,w,R,k,I,_,B,A,$,L,W,M,S,x,U,N,O,z,T,j,q,D,H,G,J={},Q={},F={},X=e=>(g(e.messages),d(e.features),Promise.all([...e.css.map(e=>(e in F||(F[e]=B(W.redux.meta.imageCdnUrl+e)),F[e])),...e.js.map(e=>(e in F||(F[e]=A(W.redux.meta.imageCdnUrl+e)),F[e]))]).then(()=>$WP.getChunkPromise(e.chunkId))),Y={},K=e=>(e in J||(J[e]=fetch("/data/1.0/bundle/dependencies/bundle?name="+encodeURIComponent(e),{credentials:"same-origin",headers:{"x-ta-version":`${U||""}|${x||""}`}}).then(e=>e.json()).then(t=>(Y[e]=t.chunkId,t)).then(X)),J[e]),V=e=>(e in Q||(Q[e]=fetch("/data/1.0/bundle/dependencies/chunk?id="+encodeURIComponent(e),{credentials:"same-origin",headers:{"x-ta-version":`${U||""}|${x||""}`}}).then(e=>e.json()).then(X)),Q[e]),Z=(e,t)=>n.createElement(s,{store:M},n.createElement(p,{store:M,apolloClient:z,urqlClient:T},e)),ee=()=>(L(),null),te="data-component-init",ne=(e,t,a={})=>{var o=document.getElementById(e);if(null!==o){if(!o.getAttribute(te)){o.setAttribute(te,te);var i=Y[t];$WP.getChunkPromise(i).then(e=>{new l(M,e.default,a).reload(),r(Z(n.createElement(e.default,a)),o)})}}else E.error("Unable to find DOM element with id = "+e)},re=e=>{var t=document.getElementById(e);null!==t&&a(t)},ae=(e,t,r={})=>{var a=document.getElementById(e);null!==a?a.getAttribute(te)||(a.setAttribute(te,te),$WP.getChunkPromise(t).then(e=>{new l(M,e.default,r).stage(r),o(Z(n.createElement(e.default,r)),a)})):E.error("Unable to find DOM element with id = "+e)},oe=(e,t)=>{var r=n.createElement(p,{store:M,apolloClient:z,urqlClient:T},e);return t&&(r=n.createElement(s,{store:M},r)),r};return[()=>{n.PureComponent,({pageManifest:W}=__WEB_CONTEXT__),P("Components Initialization"),P("Components Bundle Load"),W.bundles.forEach(e=>{Q[e]=$WP.getChunkPromise(e)}),Promise.all(Object.values(Q)).then(()=>{y("Components Bundle Load")}),W.assets.forEach(e=>{F[e]=Promise.resolve(!0)}),g(W.messages),d(W.features),M=w(W.redux),({csrfToken:S}=M.getState().auth),({vcsRevision:x,vcsBranch:U,uid:N}=M.getState().tracking),O=new m,W.apolloCache&&O.restore(W.apolloCache),z=c(O,S),T=f({securityToken:S,ssrData:W.urqlCache,initialPvid:N}),window.__APOLLO_CLIENT__=z,$WP.installResolver(V),j=n.createElement(s,{store:M},n.createElement(i,{store:M},n.createElement(v,null,n.createElement(b,null),n.createElement(ee,null),n.createElement($,{installer:C,fallbackPageName:W.redux.route.page,project:"tripadvisor-web-app"})))),q=u("hydrate_while_loading"),P("Loadables"),D=Promise.all(W.lazyLoadedModules.filter(e=>!!e).map(e=>$WP.getChunkEmptyPromise(e))).finally(()=>{y("Loadables"),P("Hydration"),q&&M.dispatch(R());var e=[];return W.hydrations.forEach(t=>{var r=document.getElementById(t.id);null===r||r.getAttribute(te)||(r.setAttribute(te,te),e.push(()=>new Promise(e=>{$WP.getChunkPromise(t.package).then(a=>{t.package,t.id,new l(M,a.default,t.props).stage(t.props),o(Z(n.createElement(a.default,t.props)),r,()=>{e()})})})))}),q?Promise.all(e.map(e=>{var t=e();return t?t.then(null,()=>null):t})):e.reduce((e,t)=>e.finally(t),Promise.resolve([]))}).finally(()=>{y("Hydration"),q&&M.dispatch(k()),I(),P("Render");var e=[];W.renders.forEach(t=>{var a=document.getElementById(t.id);null===a||a.getAttribute(te)||(a.setAttribute(te,te),e.push(new Promise(e=>{$WP.getChunkPromise(t.package).then(o=>{new l(M,o.default,t.props).reload(),t.package,t.id,r(Z(n.createElement(o.default,t.props)),a,()=>{e()})})})))});var{body:t}=document,a=document.createElement("div");a.id="singletonRoot",t&&(t.appendChild(a),r(Z(j),a)),Promise.all(e).finally(()=>{if(y("Render"),y("Components Initialization"),u("prod_runtime_tracking")&&"undefined"!=typeof window&&window.performance&&window.performance.getEntriesByName){var e=window.performance.getEntriesByName("components-Components Initialization-end","mark");if(e&&e.length>0){var t=e[0].startTime;null!==t&&_({module:"runtime",action:"initialization_complete",context:Number(t).toString()})}}})}),H=W.hydrations.concat(W.renders).concat(W.strictModeRoots).reduce((e,t)=>(e[t.id]=t.props,e),{}),G=h,define("@ta/platform.runtime",[],()=>({pageManifestComponents:H,wrapSubrootElement:oe,hydrateRoot:ae,destroyRoot:re,createRoot:ne,default:D,restoreGraphQLResults:G,importBundle:K})),e("default",D),e({createRoot:ne,destroyRoot:re,hydrateRoot:ae,importBundle:K,pageManifestComponents:H,wrapSubrootElement:oe})},[e=>n=e.default,e=>(r=e.render,a=e.unmountComponentAtNode,o=e.hydrate),e=>i=e.Provider,e=>l=e.ApiMonitor,e=>s=e.ErrorBoundary,e=>(d=e.loadFeatures,u=e.featureIsEnabled),e=>(m=e.DummyCache,c=e.buildClient,p=e.Root,h=e.restoreGraphQLResults),e=>f=e.buildUrqlClient,e=>g=e.loadMessages,e=>(E=e.default,C=e.defineSentry),e=>(P=e.start,y=e.end),e=>(v=e.Router,b=e.History),e=>(w=e.initializeStore,R=e.pauseRequestAction,k=e.resumeRequestAction,I=e.storeResizeHandler),e=>_=e.default,e=>(B=e.importCss,A=e.importScript),e=>$=e.Sentry,e=>L=e.useSubmitInteractionBufferEffect]]},["cDcdfi","faye7n","h74DsO","RiHMo-","nIW_Rw","-i3PJS","6hYgtn","OnmvvE","535agn","4LU1Ax","B7vHz6","N4pTU2","aunxON","Jk5sjx","pLbCP4","UhC_bI","fsml46"]]);
